(()=>{var a={};a.id=1456,a.ids=[1456],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:a=>{"use strict";a.exports=require("querystring")},12412:a=>{"use strict";a.exports=require("assert")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23738:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["plan-semanal",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,44969)),"/Users/emartinez/Documents/JEG/src/app/plan-semanal/page.tsx"]}]},{metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,70440))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,51472)),"/Users/emartinez/Documents/JEG/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,70440))).default(a)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,I=["/Users/emartinez/Documents/JEG/src/app/plan-semanal/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/plan-semanal/page",pathname:"/plan-semanal",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/plan-semanal/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27431:(a,b,c)=>{Promise.resolve().then(c.bind(c,44969))},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},44969:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/emartinez/Documents/JEG/src/app/plan-semanal/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/emartinez/Documents/JEG/src/app/plan-semanal/page.tsx","default")},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},56037:a=>{"use strict";a.exports=require("mongoose")},57695:(a,b,c)=>{Promise.resolve().then(c.bind(c,85858))},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:a=>{"use strict";a.exports=require("zlib")},79428:a=>{"use strict";a.exports=require("buffer")},79551:a=>{"use strict";a.exports=require("url")},81630:a=>{"use strict";a.exports=require("http")},85858:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>g});var d=c(21124),e=c(38301);let f=[{semana:1,titulo:"1ra SEMANA DEL MES - INTERIOR",tareas:[{area:"Ventanas",descripcion:"Limpiar con agua y un poco de detergente empezando por el exterior incluyendo los protectores de ventanas. Enjuagar con agua limpia cuidando de no mojar los muebles. Limpiar suavemente con papel toalla los cristales. Usar limpiador de cristal o soluci\xf3n de agua con vinagre."},{area:"Paredes",descripcion:"Limpiar con un pa\xf1o limpio y h\xfamedo para quitar el polvo. En manchas o suciedad marcada, lavar con detergente y cuidar la pintura. Limpiar cer\xe1micas de paredes y puertas de cub\xedculos de ba\xf1os."},{area:"Sillas",descripcion:"Limpiar la estructura con pa\xf1o h\xfamedo. Para sillas acolchadas, aspirar y quitar manchas con producto apropiado."},{area:"Pisos",descripcion:"Barrer y trapear con poca agua. No usar cloro. El desinfectante debe disolverse en agua, nunca directamente al piso. Incluir la acera frente a las entradas."}]},{semana:2,titulo:"2da SEMANA DEL MES - EXTERIOR",tareas:[{area:"\xc1rea verde",descripcion:"Podar arbustos y cortar grama. Eliminar partes secas y maleza en \xe1reas de grava. Quitar maleza que venga de vecinos."},{area:"Estacionamiento",descripcion:"Incluye aceras y contenes. Limpiar toda el \xe1rea profundamente. Eliminar manchas de humedad en las aceras."},{area:"Portones",descripcion:"Incluir port\xf3n vehicular y peatonal. Limpiar con agua y detergente. Enjuagar con agua limpia."},{area:"Cuarto de Limpieza",descripcion:"Sacar todo, limpiar y organizar. Desechar equipos y productos inservibles; organizar materiales (escobas, suapers, cubos, papel toalla, etc.)."}]},{semana:3,titulo:"3ra SEMANA DEL MES - INTERIOR",tareas:[{area:"Techo",descripcion:"Con escobill\xf3n para techos, retirar polvo, telara\xf1as e insectos."},{area:"Ventiladores",descripcion:"Con escalera, limpiar aspas con pa\xf1o mojado y seco. Limpiar base del abanico. No trabajar a m\xe1s de 1.8m de altura."},{area:"Muebles",descripcion:"Incluir muebles de plataforma, literatura, tablero y biblioteca. Retirar publicaciones y limpiar con pa\xf1o h\xfamedo y seco. Retirar art\xedculos inservibles o abandonados."},{area:"Cristales",descripcion:"Limpiar espejos de ba\xf1os, cristales de la Sala B y puertas. Usar limpiador de cristal o agua con vinagre."},{area:"Pisos",descripcion:"Barrer y trapear con poca agua. No usar cloro. Desinfectante diluido en agua. Incluir acera frente a entradas."}]},{semana:4,titulo:"4ta SEMANA DEL MES - EXTERIOR/INTERIOR",tareas:[{area:"\xc1rea verde",descripcion:"Podar arbustos y cortar grama. Eliminar partes secas y maleza."},{area:"L\xe1mparas",descripcion:"Remover difusores y limpiar suavemente con pa\xf1o h\xfamedo y seco. Revisar insectos y polvo. Colocar difusores con cuidado."},{area:"Cuarto de M\xe1quina",descripcion:"Sacar todo, limpiar y organizar. No dejar nada que pueda causar o alimentar incendio."}]},{semana:5,titulo:"5ta SEMANA DEL MES",subtitulo:"Si hay quinta semana entre los dos meses, se pueden usar para tareas que no se completaron.",tareas:[]}];function g(){let a=(0,e.useMemo)(()=>new Date,[]),[b,c]=(0,e.useState)(a.getFullYear()),[g,h]=(0,e.useState)(a.getMonth()+1),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)([]),[m,n]=(0,e.useState)([]),[o,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)(!1),[s,t]=(0,e.useState)(""),[u,v]=(0,e.useState)(""),w=(0,e.useMemo)(()=>{let a=new Map;return i?.asignaciones?.forEach(b=>{"number"==typeof b.slot&&a.set(b.slot,b)}),a},[i]),x=a=>{v(a),setTimeout(()=>v(""),2e3)},y=async(a,c)=>{if(i)if(w.get(a)){let d=await fetch("/api/plan-semanal/asignar",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({year:b,month:g,slot:a,...c})});j((await d.json()).item),x("Guardado")}else{let d=await fetch("/api/plan-semanal/asignar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({year:b,month:g,slot:a,...c})});j((await d.json()).item),x("Asignado")}},z=async a=>{r(!0);try{let b=await fetch("/api/config/empresas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({empresas:a})});if(!b.ok){let b=await fetch("/api/config/congregaciones",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({congregaciones:a})}),c=await b.json();n(c.empresas||c.congregaciones||[]),l(c.congregaciones||[]),x("Empresas guardadas");return}let c=await b.json();n(c.empresas||[]),l(c.empresas||[]),x("Empresas guardadas")}finally{r(!1)}},A=()=>{let a=s.trim();if(a){if((m||[]).includes(a))return void t("");z([...m||[],a]),t("")}};return(0,e.useMemo)(()=>{let b=a.getFullYear();return[b-1,b,b+1]},[a]),(0,d.jsxs)("section",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold",children:"Plan semanal"}),(0,d.jsx)("p",{className:"text-sm text-[color:var(--muted)]",children:"Asignaciones por semana."})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("select",{className:"select",value:b,onChange:a=>c(parseInt(a.target.value)),children:[a.getFullYear()-1,a.getFullYear(),a.getFullYear()+1].map(a=>(0,d.jsx)("option",{value:a,children:a},a))}),(0,d.jsx)("select",{className:"select",value:g,onChange:a=>h(parseInt(a.target.value)),children:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Sptiembre","Octubre","Noviembre","Diciembre"].map((a,b)=>(0,d.jsx)("option",{value:b+1,children:a},a))})]})]}),u&&(0,d.jsx)("div",{className:"text-xs",style:{color:"var(--success)"},children:u}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h2",{className:"font-medium",children:"Empresas"}),(0,d.jsxs)("div",{className:"flex gap-2 flex-wrap items-center",children:[(0,d.jsx)("input",{className:"input",placeholder:"Nueva empresa",value:s,onChange:a=>t(a.target.value),onKeyDown:a=>{"Enter"===a.key&&A()}}),(0,d.jsx)("button",{className:"btn btn-primary disabled:opacity-50",onClick:A,disabled:q||!s.trim(),children:"Agregar"}),q&&(0,d.jsx)("span",{className:"text-xs text-[color:var(--muted)]",children:"Guardando…"})]}),(0,d.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(m||[]).map(a=>(0,d.jsxs)("span",{className:"inline-flex items-center gap-2 badge",children:[a,(0,d.jsx)("button",{className:"text-red-500 text-xs hover:underline",onClick:()=>{z(m.filter(b=>b!==a))},title:"Quitar",children:"\xd7"})]},a)),0===(m||[]).length&&(0,d.jsx)("span",{className:"text-xs text-[color:var(--muted)]",children:"A\xfan no hay empresas"})]})]}),(0,d.jsx)("div",{className:"space-y-6",children:[1,2,3,4,5].map(a=>{let b=w.get(a),c=b?.plantilla,e=c?f.find(a=>a.semana===c):void 0,g=b?.tareas||[],h=!!(c&&b?.empresa&&(g?.length||0)>0);return(0,d.jsxs)("div",{className:"card p-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h3",{className:"font-semibold",children:["Semana ",a," del mes"]}),e?(0,d.jsxs)("p",{className:"text-xs text-[color:var(--muted)]",children:["Plantilla: ",e.titulo]}):(0,d.jsx)("p",{className:"text-xs text-[color:var(--muted)]",children:"Selecciona la semana de la gu\xeda para esta semana del mes"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,d.jsxs)("select",{className:"select",value:c||"",onChange:async b=>{let c=parseInt(b.target.value);c&&await y(a,{plantilla:c,tareas:(a=>{if(!a)return[];let b=f.find(b=>b.semana===a);return(b?.tareas||[]).map(a=>a.area)})(c)})},children:[(0,d.jsx)("option",{value:"",children:"Semana de gu\xeda…"}),f.map(a=>(0,d.jsx)("option",{value:a.semana,children:a.titulo},a.semana))]}),(0,d.jsxs)("select",{className:"select disabled:opacity-60",disabled:!c,value:b?.empresa||"",onChange:async b=>{let c=b.target.value;c&&await y(a,{empresa:c})},children:[(0,d.jsx)("option",{value:"",children:"Asignar empresa…"}),(m||[]).map(a=>(0,d.jsx)("option",{value:a,children:a},a))]}),(0,d.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[(0,d.jsx)("input",{type:"checkbox",checked:!!b?.completado,disabled:!h,title:h?"Marcar completado":"Selecciona plantilla, empresa y tareas",onChange:async b=>{await y(a,{completado:b.target.checked})}}),"Completado"]})]})]}),e&&(0,d.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,d.jsx)("div",{className:"text-sm font-medium",children:"\xc1reas a realizar"}),(0,d.jsx)("div",{className:"grid sm:grid-cols-2 gap-2 text-sm",children:e.tareas.map(c=>{let e=g.includes(c.area);return(0,d.jsxs)("label",{className:"flex items-start gap-2 rounded px-3 py-2 bg-[color:var(--surface-2)] border border-[color:var(--border)]",children:[(0,d.jsx)("input",{type:"checkbox",className:"mt-1",disabled:!b?.empresa,checked:e,onChange:async b=>{let d=new Set(g);b.target.checked?d.add(c.area):d.delete(c.area),await y(a,{tareas:Array.from(d)})}}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"font-medium text-[color:var(--foreground)]",children:c.area}),(0,d.jsx)("div",{className:"text-xs text-[color:var(--muted)] leading-relaxed",children:c.descripcion})]})]},c.area)})})]})]},a)})}),o&&(0,d.jsx)("p",{className:"text-sm text-[color:var(--muted)]",children:"Cargando…"})]})}},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},87550:a=>{"use strict";a.exports=require("better-sqlite3")},94735:a=>{"use strict";a.exports=require("events")}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[4996,7028,6112,8858,9331,7861],()=>b(b.s=23738));module.exports=c})();