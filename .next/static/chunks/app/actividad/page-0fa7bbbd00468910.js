(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4638],{7633:(e,a,t)=>{Promise.resolve().then(t.bind(t,9652))},9652:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c,dynamic:()=>n});var s=t(5155),i=t(2115);let n="force-dynamic";async function l(e){let a=new URL("/api/actividad",window.location.origin);e&&a.searchParams.set("projectId",e);let t=await fetch(a.toString());if(!t.ok)throw Error("Fetch failed");return t.json()}function c(){let[e,a]=(0,i.useState)(""),[t,n]=(0,i.useState)([]),[c,r]=(0,i.useState)(!1),[d,o]=(0,i.useState)(""),[u,h]=(0,i.useState)(""),[m,p]=(0,i.useState)("");async function x(a){a.preventDefault();let t=await fetch("/api/actividad",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:e,titulo:d,tipo:u,descripcion:m})});if(!t.ok)return alert("Error creando");let s=await t.json();n(a=>[{id:s.id,projectId:e,titulo:d,tipo:u,descripcion:m,fecha:new Date().toISOString()},...a]),o(""),h(""),p("")}return(0,i.useEffect)(()=>{r(!0),l(e).then(e=>n(e)).catch(()=>alert("Error cargando")).finally(()=>r(!1))},[e]),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Actividad"}),(0,s.jsx)("div",{className:"mt-4 mb-6",children:(0,s.jsxs)("form",{onSubmit:x,className:"flex gap-2 items-end",children:[(0,s.jsx)("input",{placeholder:"Project ID",value:e,onChange:e=>a(e.target.value),className:"input"}),(0,s.jsx)("input",{placeholder:"T\xedtulo",value:d,onChange:e=>o(e.target.value),className:"input"}),(0,s.jsx)("input",{placeholder:"Tipo",value:u,onChange:e=>h(e.target.value),className:"input"}),(0,s.jsx)("input",{placeholder:"Descripci\xf3n",value:m,onChange:e=>p(e.target.value),className:"input"}),(0,s.jsx)("button",{className:"btn btn-primary",children:"Crear"})]})}),(0,s.jsx)("div",{children:c?(0,s.jsx)("div",{children:"Cargando..."}):0===t.length?(0,s.jsx)("div",{className:"text-sm text-muted",children:"No hay actividades"}):(0,s.jsx)("ul",{className:"space-y-2",children:t.map(e=>(0,s.jsxs)("li",{className:"p-2 border rounded",children:[(0,s.jsx)("div",{className:"text-sm text-muted",children:new Date(e.fecha).toLocaleString()}),(0,s.jsx)("div",{className:"font-semibold",children:e.titulo}),(0,s.jsx)("div",{className:"text-sm",children:e.tipo}),(0,s.jsx)("div",{className:"text-sm",children:e.descripcion})]},e.id))})})]})}}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=7633)),_N_E=e.O()}]);